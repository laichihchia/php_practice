<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <form name="form1" onsubmit="sendData();return false">
        <input type="text" name="nickname" placeholder="暱稱">
        <br>
        <input type="text" name="account" placeholder="帳號">
        <br>
        <input type="password" name="password" placeholder="密碼">
        <br>
        <input type="submit">
    </form>
    <script>
        async function sendData(){
            const fd = new FormData(document.form1);
            // for (let s of fd) {
            //     console.log(s);
            // }
            const usp = new URLSearchParams(fd);
            console.log(usp);
            console.log(usp.toString());




            // 當body 是form data 的時候 Content-Type: multipart/form-data
            const r = await fetch('post-echo.php',{
                method:'POST',
                body:fd,
            })
            const result = await r.json(); // Promise f() 自動將 JSON 格式轉回 JS
            console.log(result);
        };
    </script>
</body>

</html>